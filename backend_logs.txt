driving_school_backend  | INFO:     Will watch for changes in these directories: ['/app']
driving_school_backend  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
driving_school_backend  | INFO:     Started reloader process [1] using WatchFiles
driving_school_backend  | Process SpawnProcess-1:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/payments.py", line 104, in <module>
driving_school_backend  |     request: Request,
driving_school_backend  |              ^^^^^^^
driving_school_backend  | NameError: name 'Request' is not defined
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/__init__.py'. Reloading...
driving_school_backend  | Process SpawnProcess-2:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/payments.py", line 104, in <module>
driving_school_backend  |     request: Request,
driving_school_backend  |              ^^^^^^^
driving_school_backend  | NameError: name 'Request' is not defined
driving_school_backend  | INFO:     Stopping reloader process [1]
driving_school_backend  | INFO:     Will watch for changes in these directories: ['/app']
driving_school_backend  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
driving_school_backend  | INFO:     Started reloader process [1] using WatchFiles
driving_school_backend  | Process SpawnProcess-1:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/payments.py", line 104, in <module>
driving_school_backend  |     request: Request,
driving_school_backend  |              ^^^^^^^
driving_school_backend  | NameError: name 'Request' is not defined
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/payments.py'. Reloading...
driving_school_backend  | Process SpawnProcess-2:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/onboarding.py", line 56, in <module>
driving_school_backend  |     current_user: Annotated[User, Depends(deps.get_current_active_user)]
driving_school_backend  |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  | AttributeError: module 'app.api.deps' has no attribute 'get_current_active_user'
driving_school_backend  | INFO:     Stopping reloader process [1]
driving_school_backend  | INFO:     Will watch for changes in these directories: ['/app']
driving_school_backend  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
driving_school_backend  | INFO:     Started reloader process [1] using WatchFiles
driving_school_backend  | Process SpawnProcess-1:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/onboarding.py", line 56, in <module>
driving_school_backend  |     current_user: Annotated[User, Depends(deps.get_current_active_user)]
driving_school_backend  |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  | AttributeError: module 'app.api.deps' has no attribute 'get_current_active_user'
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/onboarding.py'. Reloading...
driving_school_backend  | INFO:     Started server process [29]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 02:36:23,438 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 02:36:23,438 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 02:36:29,659 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [29]
driving_school_backend  | INFO:     Stopping reloader process [1]
driving_school_backend  | INFO:     Will watch for changes in these directories: ['/app']
driving_school_backend  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
driving_school_backend  | INFO:     Started reloader process [1] using WatchFiles
driving_school_backend  | INFO:     Started server process [8]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 02:36:32,428 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 02:36:32,428 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | 2026-02-11 02:36:50,805 - idsms - INFO - HEAD /health
driving_school_backend  | INFO:     172.19.0.1:59624 - "HEAD /health HTTP/1.1" 405 Method Not Allowed
driving_school_backend  | 2026-02-11 02:45:05,094 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:45:05,285 INFO sqlalchemy.engine.Engine select pg_catalog.version()
driving_school_backend  | 2026-02-11 02:45:05,286 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 02:45:05,313 INFO sqlalchemy.engine.Engine select current_schema()
driving_school_backend  | 2026-02-11 02:45:05,314 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 02:45:05,318 INFO sqlalchemy.engine.Engine show standard_conforming_strings
driving_school_backend  | 2026-02-11 02:45:05,319 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 02:45:05,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:05,369 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:05,370 INFO sqlalchemy.engine.Engine [generated in 0.00069s] (1,)
driving_school_backend  | INFO:     172.19.0.1:53408 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:05,400 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:05,407 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:45:05,409 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:05,410 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:05,411 INFO sqlalchemy.engine.Engine [cached since 0.0416s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:53410 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:05,416 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:15,525 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | 2026-02-11 02:45:15,551 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 02:45:15,552 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:15,557 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 02:45:15,557 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 02:45:15,965 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:45:16,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:16,009 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:45:16,010 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (None, datetime.datetime(2026, 2, 11, 2, 45, 16, 6080), datetime.datetime(2026, 2, 11, 2, 45, 16, 6103), UUID('04b10db5-1cea-4512-9e15-5165e38e5579'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 02:45:16,019 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:40254 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,030 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:40254 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,035 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:45:16,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:16,056 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:16,056 INFO sqlalchemy.engine.Engine [generated in 0.00041s] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:40254 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,063 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:16,075 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:40254 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 02:45:16,087 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:40254 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,091 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 02:45:16,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:16,100 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:16,100 INFO sqlalchemy.engine.Engine [cached since 0.04406s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 02:45:16,103 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:45:16,103 INFO sqlalchemy.engine.Engine [cached since 0.09401s ago] (None, datetime.datetime(2026, 2, 11, 2, 45, 16, 102504), datetime.datetime(2026, 2, 11, 2, 45, 16, 102517), UUID('afd01e3b-09bb-45dc-adce-9c91bdee4224'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 02:45:16,105 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:40254 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,119 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:45:16,120 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:16,120 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:16,121 INFO sqlalchemy.engine.Engine [cached since 0.06455s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:40254 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,127 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:16,373 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:40254 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,381 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:45:16,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:16,434 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:16,435 INFO sqlalchemy.engine.Engine [cached since 0.3787s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:16,436 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:40262 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,453 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:45:16,454 INFO sqlalchemy.engine.Engine [generated in 0.00047s] ()
driving_school_backend  | 2026-02-11 02:45:16,471 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:45:16,471 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ()
driving_school_backend  | 2026-02-11 02:45:16,498 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:45:16,499 INFO sqlalchemy.engine.Engine [generated in 0.00037s] ()
driving_school_backend  | 2026-02-11 02:45:16,513 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:16,513 INFO sqlalchemy.engine.Engine [generated in 0.00049s] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:16,520 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:16,520 INFO sqlalchemy.engine.Engine [generated in 0.00037s] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:16,535 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:45:16,536 INFO sqlalchemy.engine.Engine [generated in 0.00044s] ()
driving_school_backend  | 2026-02-11 02:45:16,553 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:45:16,553 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ()
driving_school_backend  | 2026-02-11 02:45:16,564 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:45:16,565 INFO sqlalchemy.engine.Engine [generated in 0.00088s] ()
driving_school_backend  | 2026-02-11 02:45:16,577 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:45:16,577 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:45:16,592 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:16,592 INFO sqlalchemy.engine.Engine [generated in 0.00037s] (5,)
driving_school_backend  | 2026-02-11 02:45:16,606 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:16,607 INFO sqlalchemy.engine.Engine [generated in 0.00043s] (5,)
driving_school_backend  | INFO:     172.19.0.1:40254 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,617 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:16,624 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:45:16,631 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:16,632 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:16,632 INFO sqlalchemy.engine.Engine [cached since 0.5759s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:16,636 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:45:16,636 INFO sqlalchemy.engine.Engine [cached since 0.1827s ago] ()
driving_school_backend  | 2026-02-11 02:45:16,646 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:45:16,647 INFO sqlalchemy.engine.Engine [cached since 0.1757s ago] ()
driving_school_backend  | 2026-02-11 02:45:16,649 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:45:16,649 INFO sqlalchemy.engine.Engine [cached since 0.151s ago] ()
driving_school_backend  | 2026-02-11 02:45:16,652 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:16,652 INFO sqlalchemy.engine.Engine [cached since 0.1394s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:16,655 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:16,655 INFO sqlalchemy.engine.Engine [cached since 0.1355s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:16,660 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:45:16,660 INFO sqlalchemy.engine.Engine [cached since 0.1247s ago] ()
driving_school_backend  | 2026-02-11 02:45:16,671 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:45:16,671 INFO sqlalchemy.engine.Engine [cached since 0.1185s ago] ()
driving_school_backend  | 2026-02-11 02:45:16,677 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:45:16,678 INFO sqlalchemy.engine.Engine [cached since 0.1138s ago] ()
driving_school_backend  | 2026-02-11 02:45:16,690 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:45:16,690 INFO sqlalchemy.engine.Engine [cached since 0.1133s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:45:16,694 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:16,695 INFO sqlalchemy.engine.Engine [cached since 0.1029s ago] (5,)
driving_school_backend  | 2026-02-11 02:45:16,703 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:16,704 INFO sqlalchemy.engine.Engine [cached since 0.09729s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:40268 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:16,714 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:26,721 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:36122 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:26,724 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:36128 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:26,727 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:45:26,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:26,742 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:26,742 INFO sqlalchemy.engine.Engine [cached since 10.69s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:26,745 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:45:26,746 INFO sqlalchemy.engine.Engine [generated in 0.00048s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:36122 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:26,754 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:26,756 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:45:26,758 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:26,759 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:26,760 INFO sqlalchemy.engine.Engine [cached since 10.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:26,762 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:45:26,762 INFO sqlalchemy.engine.Engine [cached since 0.01699s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:36128 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:26,764 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:29,097 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:45:29,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:29,099 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:29,099 INFO sqlalchemy.engine.Engine [cached since 13.04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:29,102 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:45:29,102 INFO sqlalchemy.engine.Engine [cached since 12.65s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,103 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:45:29,104 INFO sqlalchemy.engine.Engine [cached since 12.63s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,105 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:45:29,106 INFO sqlalchemy.engine.Engine [cached since 12.61s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,107 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:29,107 INFO sqlalchemy.engine.Engine [cached since 12.6s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:29,109 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:29,109 INFO sqlalchemy.engine.Engine [cached since 12.59s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:29,111 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:45:29,111 INFO sqlalchemy.engine.Engine [cached since 12.58s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,112 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:45:29,112 INFO sqlalchemy.engine.Engine [cached since 12.56s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,114 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:45:29,114 INFO sqlalchemy.engine.Engine [cached since 12.55s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,115 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:45:29,116 INFO sqlalchemy.engine.Engine [cached since 12.54s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:45:29,119 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:29,119 INFO sqlalchemy.engine.Engine [cached since 12.53s ago] (5,)
driving_school_backend  | 2026-02-11 02:45:29,125 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:29,126 INFO sqlalchemy.engine.Engine [cached since 12.52s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:36128 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:29,131 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:29,139 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:45:29,141 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:29,141 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:29,141 INFO sqlalchemy.engine.Engine [cached since 13.09s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:29,146 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:45:29,146 INFO sqlalchemy.engine.Engine [cached since 12.69s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,147 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:45:29,147 INFO sqlalchemy.engine.Engine [cached since 12.68s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,149 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:45:29,150 INFO sqlalchemy.engine.Engine [cached since 12.65s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,155 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:29,155 INFO sqlalchemy.engine.Engine [cached since 12.64s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:29,159 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:45:29,160 INFO sqlalchemy.engine.Engine [cached since 12.64s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:45:29,161 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:45:29,161 INFO sqlalchemy.engine.Engine [cached since 12.63s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,163 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:45:29,163 INFO sqlalchemy.engine.Engine [cached since 12.61s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,165 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:45:29,165 INFO sqlalchemy.engine.Engine [cached since 12.6s ago] ()
driving_school_backend  | 2026-02-11 02:45:29,167 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:45:29,168 INFO sqlalchemy.engine.Engine [cached since 12.59s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:45:29,172 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:29,172 INFO sqlalchemy.engine.Engine [cached since 12.58s ago] (5,)
driving_school_backend  | 2026-02-11 02:45:29,175 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:45:29,175 INFO sqlalchemy.engine.Engine [cached since 12.57s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:36122 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:29,177 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:32,730 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:45:32,733 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:32,734 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:32,735 INFO sqlalchemy.engine.Engine [cached since 16.68s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:32,739 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:45:32,739 INFO sqlalchemy.engine.Engine [cached since 5.994s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:36122 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:32,741 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:32,743 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:45:32,746 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:32,748 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:32,748 INFO sqlalchemy.engine.Engine [cached since 16.69s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:32,753 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:45:32,753 INFO sqlalchemy.engine.Engine [cached since 6.008s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:36128 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:32,756 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:50,404 - idsms - INFO - OPTIONS /api/v1/vehicles/
driving_school_backend  | 2026-02-11 02:45:50,405 - idsms - INFO - OPTIONS /api/v1/vehicles/
driving_school_backend  | INFO:     172.19.0.1:51348 - "OPTIONS /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51360 - "OPTIONS /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:50,411 - idsms - INFO - GET /api/v1/vehicles/
driving_school_backend  | 2026-02-11 02:45:50,445 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:50,449 INFO sqlalchemy.engine.Engine SELECT vehicle.deleted_at, vehicle.created_at, vehicle.updated_at, vehicle.id, vehicle.reg_number, vehicle.type, vehicle.make_model, vehicle.insurance_expiry, vehicle.next_service_date, vehicle.is_active 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.is_active = true 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:45:50,449 INFO sqlalchemy.engine.Engine [generated in 0.00025s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:51360 - "GET /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:50,454 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:50,456 - idsms - INFO - GET /api/v1/vehicles/
driving_school_backend  | 2026-02-11 02:45:50,459 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:50,460 INFO sqlalchemy.engine.Engine SELECT vehicle.deleted_at, vehicle.created_at, vehicle.updated_at, vehicle.id, vehicle.reg_number, vehicle.type, vehicle.make_model, vehicle.insurance_expiry, vehicle.next_service_date, vehicle.is_active 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.is_active = true 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:45:50,460 INFO sqlalchemy.engine.Engine [cached since 0.01069s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:51348 - "GET /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:50,465 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:45:53,273 - idsms - INFO - OPTIONS /api/v1/assessments/student/me
driving_school_backend  | 2026-02-11 02:45:53,274 - idsms - INFO - OPTIONS /api/v1/assessments/student/me
driving_school_backend  | INFO:     172.19.0.1:51348 - "OPTIONS /api/v1/assessments/student/me HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51360 - "OPTIONS /api/v1/assessments/student/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:45:53,282 - idsms - INFO - GET /api/v1/assessments/student/me
driving_school_backend  | 2026-02-11 02:45:53,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:53,301 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:53,301 INFO sqlalchemy.engine.Engine [cached since 37.25s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:53,303 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:51360 - "GET /api/v1/assessments/student/me HTTP/1.1" 403 Forbidden
driving_school_backend  | 2026-02-11 02:45:53,306 - idsms - INFO - GET /api/v1/assessments/student/me
driving_school_backend  | 2026-02-11 02:45:53,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:45:53,308 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:45:53,309 INFO sqlalchemy.engine.Engine [cached since 37.26s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:45:53,311 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:51348 - "GET /api/v1/assessments/student/me HTTP/1.1" 403 Forbidden
driving_school_backend  | 2026-02-11 02:46:04,781 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:46:04,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:46:04,783 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:46:04,783 INFO sqlalchemy.engine.Engine [cached since 48.73s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:46:04,785 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:46:04,785 INFO sqlalchemy.engine.Engine [cached since 48.34s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,787 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:46:04,787 INFO sqlalchemy.engine.Engine [cached since 48.32s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,789 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:46:04,789 INFO sqlalchemy.engine.Engine [cached since 48.29s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,791 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:46:04,791 INFO sqlalchemy.engine.Engine [cached since 48.28s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:46:04,793 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:46:04,793 INFO sqlalchemy.engine.Engine [cached since 48.28s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:46:04,795 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:46:04,795 INFO sqlalchemy.engine.Engine [cached since 48.26s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,798 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:46:04,798 INFO sqlalchemy.engine.Engine [cached since 48.25s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,803 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:46:04,804 INFO sqlalchemy.engine.Engine [cached since 48.24s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,808 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:46:04,808 INFO sqlalchemy.engine.Engine [cached since 48.24s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:46:04,810 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:46:04,811 INFO sqlalchemy.engine.Engine [cached since 48.22s ago] (5,)
driving_school_backend  | 2026-02-11 02:46:04,818 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:46:04,818 INFO sqlalchemy.engine.Engine [cached since 48.22s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:53132 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:46:04,824 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:46:04,829 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:46:04,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:46:04,831 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:46:04,831 INFO sqlalchemy.engine.Engine [cached since 48.78s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:46:04,838 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:46:04,838 INFO sqlalchemy.engine.Engine [cached since 48.39s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,843 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:46:04,844 INFO sqlalchemy.engine.Engine [cached since 48.38s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,851 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:46:04,852 INFO sqlalchemy.engine.Engine [cached since 48.36s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,858 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:46:04,859 INFO sqlalchemy.engine.Engine [cached since 48.35s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:46:04,863 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:46:04,863 INFO sqlalchemy.engine.Engine [cached since 48.35s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:46:04,864 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:46:04,865 INFO sqlalchemy.engine.Engine [cached since 48.33s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,867 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:46:04,868 INFO sqlalchemy.engine.Engine [cached since 48.32s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,871 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:46:04,871 INFO sqlalchemy.engine.Engine [cached since 48.31s ago] ()
driving_school_backend  | 2026-02-11 02:46:04,873 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:46:04,873 INFO sqlalchemy.engine.Engine [cached since 48.3s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:46:04,875 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:46:04,875 INFO sqlalchemy.engine.Engine [cached since 48.29s ago] (5,)
driving_school_backend  | 2026-02-11 02:46:04,877 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:46:04,878 INFO sqlalchemy.engine.Engine [cached since 48.28s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:53148 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:46:04,880 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:46:06,866 - idsms - INFO - OPTIONS /api/v1/payments/
driving_school_backend  | INFO:     172.19.0.1:53148 - "OPTIONS /api/v1/payments/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:46:06,867 - idsms - INFO - OPTIONS /api/v1/payments/
driving_school_backend  | INFO:     172.19.0.1:53132 - "OPTIONS /api/v1/payments/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:46:06,874 - idsms - INFO - GET /api/v1/payments/
driving_school_backend  | 2026-02-11 02:46:06,893 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:46:06,893 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:46:06,893 INFO sqlalchemy.engine.Engine [cached since 50.84s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:46:06,897 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method 
driving_school_backend  | FROM payment 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:46:06,898 INFO sqlalchemy.engine.Engine [generated in 0.00040s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:53132 - "GET /api/v1/payments/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:46:06,909 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:46:06,913 - idsms - INFO - GET /api/v1/payments/
driving_school_backend  | 2026-02-11 02:46:06,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:46:06,924 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:46:06,924 INFO sqlalchemy.engine.Engine [cached since 50.87s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:46:06,928 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method 
driving_school_backend  | FROM payment 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:46:06,928 INFO sqlalchemy.engine.Engine [cached since 0.03088s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:53148 - "GET /api/v1/payments/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:46:06,931 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:03,540 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:49:03,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:03,546 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:03,546 INFO sqlalchemy.engine.Engine [cached since 227.5s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:03,547 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:58158 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:58154 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,550 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:03,552 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:58168 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,564 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:49:03,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:03,567 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:03,567 INFO sqlalchemy.engine.Engine [cached since 227.5s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:03,568 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:58158 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,582 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:03,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:03,635 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:49:03,635 INFO sqlalchemy.engine.Engine [cached since 238.3s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:58154 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,638 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:03,640 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:49:03,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:03,643 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:49:03,643 INFO sqlalchemy.engine.Engine [cached since 238.3s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:58158 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,646 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:03,692 - idsms - INFO - GET /api/v1/payments/
driving_school_backend  | 2026-02-11 02:49:03,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:03,696 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:03,696 INFO sqlalchemy.engine.Engine [cached since 227.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:03,718 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method 
driving_school_backend  | FROM payment 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:49:03,718 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:58158 - "GET /api/v1/payments/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,729 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:03,734 - idsms - INFO - GET /api/v1/payments/
driving_school_backend  | 2026-02-11 02:49:03,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:03,739 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:03,740 INFO sqlalchemy.engine.Engine [cached since 227.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:03,745 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method 
driving_school_backend  | FROM payment 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:49:03,745 INFO sqlalchemy.engine.Engine [cached since 176.9s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:58154 - "GET /api/v1/payments/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:03,747 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:12,723 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:49:12,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:12,726 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:12,727 INFO sqlalchemy.engine.Engine [cached since 236.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:12,731 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:49:12,731 INFO sqlalchemy.engine.Engine [cached since 226s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:58182 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:12,735 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:12,741 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:49:12,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:12,742 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:12,742 INFO sqlalchemy.engine.Engine [cached since 236.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:12,745 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:49:12,745 INFO sqlalchemy.engine.Engine [cached since 226s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:58188 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:12,749 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:24,668 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:49:24,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:24,669 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:24,670 INFO sqlalchemy.engine.Engine [cached since 248.6s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:24,672 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:49:24,672 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,675 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:49:24,675 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,683 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:49:24,683 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,693 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:49:24,693 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:49:24,698 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:49:24,698 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:49:24,702 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:49:24,702 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,711 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:49:24,711 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,712 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:49:24,713 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,714 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:49:24,714 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:49:24,716 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:49:24,716 INFO sqlalchemy.engine.Engine [cached since 248.1s ago] (5,)
driving_school_backend  | 2026-02-11 02:49:24,723 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:49:24,724 INFO sqlalchemy.engine.Engine [cached since 248.1s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:60206 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:24,731 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:24,736 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:49:24,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:24,742 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:24,742 INFO sqlalchemy.engine.Engine [cached since 248.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:24,745 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:49:24,745 INFO sqlalchemy.engine.Engine [cached since 248.3s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,746 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:49:24,747 INFO sqlalchemy.engine.Engine [cached since 248.3s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,748 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:49:24,748 INFO sqlalchemy.engine.Engine [cached since 248.3s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,750 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:49:24,750 INFO sqlalchemy.engine.Engine [cached since 248.3s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:49:24,753 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:49:24,754 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:49:24,755 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:49:24,755 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,757 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:49:24,757 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,759 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:49:24,759 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] ()
driving_school_backend  | 2026-02-11 02:49:24,760 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:49:24,761 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:49:24,763 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:49:24,763 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] (5,)
driving_school_backend  | 2026-02-11 02:49:24,769 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:49:24,770 INFO sqlalchemy.engine.Engine [cached since 248.2s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:60222 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:24,773 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:29,483 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:49:29,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:29,485 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:29,485 INFO sqlalchemy.engine.Engine [cached since 253.4s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:29,492 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:49:29,492 INFO sqlalchemy.engine.Engine [cached since 242.8s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:60222 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:29,497 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:49:29,499 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:49:29,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:49:29,501 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:49:29,501 INFO sqlalchemy.engine.Engine [cached since 253.5s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:49:29,504 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:49:29,504 INFO sqlalchemy.engine.Engine [cached since 242.8s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:60206 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:49:29,508 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:50:41,860 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:50:41,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:50:41,862 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:50:41,862 INFO sqlalchemy.engine.Engine [cached since 325.8s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:50:41,864 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:50:41,864 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,866 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:50:41,866 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,867 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:50:41,867 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,869 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:50:41,870 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:50:41,875 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:50:41,875 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:50:41,879 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:50:41,879 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,881 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:50:41,881 INFO sqlalchemy.engine.Engine [cached since 325.3s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,883 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:50:41,884 INFO sqlalchemy.engine.Engine [cached since 325.3s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,887 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:50:41,888 INFO sqlalchemy.engine.Engine [cached since 325.3s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:50:41,889 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:50:41,889 INFO sqlalchemy.engine.Engine [cached since 325.3s ago] (5,)
driving_school_backend  | 2026-02-11 02:50:41,893 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:50:41,893 INFO sqlalchemy.engine.Engine [cached since 325.3s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:51030 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:50:41,898 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:50:41,905 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:50:41,907 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:50:41,907 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:50:41,908 INFO sqlalchemy.engine.Engine [cached since 325.9s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:50:41,913 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:50:41,913 INFO sqlalchemy.engine.Engine [cached since 325.5s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,917 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:50:41,917 INFO sqlalchemy.engine.Engine [cached since 325.5s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,919 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:50:41,919 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,921 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:50:41,921 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:50:41,923 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:50:41,923 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:50:41,924 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:50:41,924 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,927 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:50:41,928 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,929 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:50:41,930 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] ()
driving_school_backend  | 2026-02-11 02:50:41,931 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:50:41,932 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:50:41,941 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:50:41,941 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] (5,)
driving_school_backend  | 2026-02-11 02:50:41,948 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:50:41,948 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:51046 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:50:41,951 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/users.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 02:53:14,142 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [8]
driving_school_backend  | Process SpawnProcess-2:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/users.py", line 37, in <module>
driving_school_backend  |     current_user: Annotated[User, Depends(deps.get_current_active_user)],
driving_school_backend  |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  | AttributeError: module 'app.api.deps' has no attribute 'get_current_active_user'
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/users.py'. Reloading...
driving_school_backend  | Process SpawnProcess-3:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 2, in <module>
driving_school_backend  |     from app.api import auth, users, courses, vehicles, lessons, payments, onboarding, instructor, analytics, settings, assessments
driving_school_backend  |   File "/app/app/api/users.py", line 64, in <module>
driving_school_backend  |     current_user: Annotated[User, Depends(deps.get_current_active_user)],
driving_school_backend  |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  | AttributeError: module 'app.api.deps' has no attribute 'get_current_active_user'
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/users.py'. Reloading...
driving_school_backend  | INFO:     Started server process [318]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 02:57:47,349 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 02:57:47,349 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | 2026-02-11 02:57:47,356 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:57:47,386 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:57:47,400 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:57:47,403 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:57:47,406 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:57:47,410 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:57:47,413 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 02:57:47,414 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:57:47,417 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:43866 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:57:47,418 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:57:47,424 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:43878 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:57:47,464 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 02:57:47,537 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:43628 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:57:47,582 INFO sqlalchemy.engine.Engine select pg_catalog.version()
driving_school_backend  | 2026-02-11 02:57:47,582 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 02:57:47,583 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | 2026-02-11 02:57:47,633 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | INFO:     172.19.0.1:43646 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:57:47,678 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | 2026-02-11 02:57:47,757 INFO sqlalchemy.engine.Engine select current_schema()
driving_school_backend  | 2026-02-11 02:57:47,757 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 02:57:47,802 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 02:57:47,807 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 02:57:47,808 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 02:57:47,812 INFO sqlalchemy.engine.Engine show standard_conforming_strings
driving_school_backend  | 2026-02-11 02:57:47,812 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 02:57:47,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,835 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:57:47,835 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (1,)
driving_school_backend  | 2026-02-11 02:57:47,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,837 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:57:47,838 INFO sqlalchemy.engine.Engine [cached since 0.002912s ago] (1,)
driving_school_backend  | 2026-02-11 02:57:47,910 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,913 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:57:47,913 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:57:47,914 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,915 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:57:47,916 INFO sqlalchemy.engine.Engine [cached since 0.002514s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:57:47,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,920 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 02:57:47,920 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 02:57:47,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,921 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 02:57:47,921 INFO sqlalchemy.engine.Engine [cached since 0.001524s ago] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 02:57:47,967 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,967 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:57:47,967 INFO sqlalchemy.engine.Engine [cached since 0.1324s ago] (1,)
driving_school_backend  | 2026-02-11 02:57:47,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,969 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:57:47,969 INFO sqlalchemy.engine.Engine [cached since 0.05573s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:57:47,971 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,972 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:57:47,972 INFO sqlalchemy.engine.Engine [cached since 0.1378s ago] (1,)
driving_school_backend  | 2026-02-11 02:57:47,973 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,974 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 02:57:47,975 INFO sqlalchemy.engine.Engine [cached since 0.05503s ago] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 02:57:47,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,977 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:57:47,977 INFO sqlalchemy.engine.Engine [cached since 0.1426s ago] (1,)
driving_school_backend  | 2026-02-11 02:57:47,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:47,980 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 02:57:47,980 INFO sqlalchemy.engine.Engine [cached since 0.1455s ago] (1,)
driving_school_backend  | 2026-02-11 02:57:47,994 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:47,995 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:47,998 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,002 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,003 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,003 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,429 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:57:48,708 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:57:48,708 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,977 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:57:48,978 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,979 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:48,982 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:57:48,982 INFO sqlalchemy.engine.Engine [generated in 0.00027s] (None, datetime.datetime(2026, 2, 11, 2, 57, 48, 979333), datetime.datetime(2026, 2, 11, 2, 57, 48, 979355), UUID('a456fb57-8ba7-4ce0-9f31-1018cebf0270'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 02:57:48,983 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:48,983 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:57:48,983 INFO sqlalchemy.engine.Engine [cached since 0.001908s ago] (None, datetime.datetime(2026, 2, 11, 2, 57, 48, 982871), datetime.datetime(2026, 2, 11, 2, 57, 48, 982893), UUID('ae98e68d-10df-4d8b-ad8d-1362b00fa70e'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 02:57:48,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:57:48,986 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:57:48,986 INFO sqlalchemy.engine.Engine [cached since 0.004244s ago] (None, datetime.datetime(2026, 2, 11, 2, 57, 48, 985294), datetime.datetime(2026, 2, 11, 2, 57, 48, 985308), UUID('0e788f4c-b552-41b6-93f3-b3a8eed4b051'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 02:57:48,987 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:57:48,991 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:57:48,992 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:57:48,992 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:59:45,769 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | 2026-02-11 02:59:45,772 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 02:59:45,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:45,773 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 02:59:45,773 INFO sqlalchemy.engine.Engine [cached since 117.9s ago] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 02:59:46,076 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 02:59:46,078 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:46,079 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:59:46,079 INFO sqlalchemy.engine.Engine [cached since 117.1s ago] (None, datetime.datetime(2026, 2, 11, 2, 59, 46, 78425), datetime.datetime(2026, 2, 11, 2, 59, 46, 78447), UUID('b3fd9ab1-631b-4469-9fe3-328b2952b1e5'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 02:59:46,087 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:41008 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,100 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:59:46,102 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:46,102 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:46,102 INFO sqlalchemy.engine.Engine [cached since 118.2s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:41008 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,106 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:59:46,112 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:41008 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 02:59:46,125 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:41008 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,133 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 02:59:46,146 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:46,147 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:46,147 INFO sqlalchemy.engine.Engine [cached since 118.2s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 02:59:46,154 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 02:59:46,154 INFO sqlalchemy.engine.Engine [cached since 117.2s ago] (None, datetime.datetime(2026, 2, 11, 2, 59, 46, 153178), datetime.datetime(2026, 2, 11, 2, 59, 46, 153215), UUID('ea3b915c-5650-4571-b61d-5b288e37e965'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 02:59:46,158 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:41008 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,169 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 02:59:46,170 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:46,171 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:46,171 INFO sqlalchemy.engine.Engine [cached since 118.3s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:41008 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,177 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:59:46,352 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:41008 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,358 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:59:46,359 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:59:46,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:46,390 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:46,390 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:41018 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,403 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:59:46,404 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ()
driving_school_backend  | 2026-02-11 02:59:46,412 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:59:46,413 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ()
driving_school_backend  | 2026-02-11 02:59:46,443 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:59:46,444 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ()
driving_school_backend  | 2026-02-11 02:59:46,460 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:59:46,460 INFO sqlalchemy.engine.Engine [generated in 0.00030s] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:59:46,472 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:59:46,472 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:59:46,477 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:59:46,478 INFO sqlalchemy.engine.Engine [generated in 0.00040s] ()
driving_school_backend  | 2026-02-11 02:59:46,500 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:59:46,502 INFO sqlalchemy.engine.Engine [generated in 0.00168s] ()
driving_school_backend  | 2026-02-11 02:59:46,519 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:59:46,528 INFO sqlalchemy.engine.Engine [generated in 0.00879s] ()
driving_school_backend  | 2026-02-11 02:59:46,537 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:59:46,538 INFO sqlalchemy.engine.Engine [generated in 0.00044s] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:59:46,559 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:59:46,559 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (5,)
driving_school_backend  | 2026-02-11 02:59:46,576 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:59:46,576 INFO sqlalchemy.engine.Engine [generated in 0.00038s] (5,)
driving_school_backend  | INFO:     172.19.0.1:41008 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,590 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:59:46,594 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 02:59:46,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:46,599 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:46,599 INFO sqlalchemy.engine.Engine [cached since 118.7s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:59:46,648 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 02:59:46,648 INFO sqlalchemy.engine.Engine [cached since 0.2448s ago] ()
driving_school_backend  | 2026-02-11 02:59:46,656 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 02:59:46,657 INFO sqlalchemy.engine.Engine [cached since 0.2443s ago] ()
driving_school_backend  | 2026-02-11 02:59:46,678 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 02:59:46,678 INFO sqlalchemy.engine.Engine [cached since 0.235s ago] ()
driving_school_backend  | 2026-02-11 02:59:46,693 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:59:46,693 INFO sqlalchemy.engine.Engine [cached since 0.2333s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:59:46,698 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 02:59:46,698 INFO sqlalchemy.engine.Engine [cached since 0.2268s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 02:59:46,706 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 02:59:46,706 INFO sqlalchemy.engine.Engine [cached since 0.2289s ago] ()
driving_school_backend  | 2026-02-11 02:59:46,724 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 02:59:46,724 INFO sqlalchemy.engine.Engine [cached since 0.2241s ago] ()
driving_school_backend  | 2026-02-11 02:59:46,727 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 02:59:46,727 INFO sqlalchemy.engine.Engine [cached since 0.2088s ago] ()
driving_school_backend  | 2026-02-11 02:59:46,731 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 02:59:46,731 INFO sqlalchemy.engine.Engine [cached since 0.1943s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 02:59:46,740 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:59:46,740 INFO sqlalchemy.engine.Engine [cached since 0.1816s ago] (5,)
driving_school_backend  | 2026-02-11 02:59:46,769 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 02:59:46,770 INFO sqlalchemy.engine.Engine [cached since 0.1942s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:41018 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:46,780 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:59:55,885 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | 2026-02-11 02:59:55,886 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:39272 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:39274 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:55,893 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:59:55,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:55,903 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:55,903 INFO sqlalchemy.engine.Engine [cached since 128s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:59:55,906 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:59:55,906 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:39274 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:55,909 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 02:59:55,911 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 02:59:55,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 02:59:55,913 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 02:59:55,913 INFO sqlalchemy.engine.Engine [cached since 128s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 02:59:55,920 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 02:59:55,921 INFO sqlalchemy.engine.Engine [cached since 0.01473s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:39272 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 02:59:55,926 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:38,432 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 06:25:38,436 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:42954 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,439 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 06:25:38,442 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:42956 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:42966 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:42978 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,452 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:25:38,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,463 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:25:38,463 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (1,)
driving_school_backend  | 2026-02-11 06:25:38,466 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:42984 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 06:25:38,474 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:42984 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | INFO:     172.19.0.1:42978 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,480 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 06:25:38,481 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:42966 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,484 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:25:38,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,488 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:25:38,488 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (1,)
driving_school_backend  | 2026-02-11 06:25:38,492 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 06:25:38,495 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:42984 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,500 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:38,500 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 06:25:38,501 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:38,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,503 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:38,503 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 06:25:38,509 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 06:25:38,510 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (None, datetime.datetime(2026, 2, 11, 6, 25, 38, 507777), datetime.datetime(2026, 2, 11, 6, 25, 38, 507796), UUID('a1614e54-ccac-4d73-94e2-396e48416b16'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 06:25:38,511 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 06:25:38,512 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (None, datetime.datetime(2026, 2, 11, 6, 25, 38, 511135), datetime.datetime(2026, 2, 11, 6, 25, 38, 511155), UUID('c05d82d9-fa5b-4ed5-a5db-2711fb7388fa'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 06:25:38,513 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 06:25:38,517 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:42966 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:42978 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,530 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:25:38,531 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,532 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:38,532 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:42978 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,537 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:38,539 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:25:38,542 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,543 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:38,543 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:42966 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,548 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:38,638 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:42966 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,648 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:42978 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,658 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:25:38,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,661 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:38,661 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:25:38,667 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:25:38,668 INFO sqlalchemy.engine.Engine [cached since 1.234e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:42966 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,686 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:38,693 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:25:38,695 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:38,696 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:38,696 INFO sqlalchemy.engine.Engine [cached since 1.247e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:25:38,700 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:25:38,700 INFO sqlalchemy.engine.Engine [cached since 1.234e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:42978 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:38,716 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:51,596 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:25:51,596 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:60100 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:60104 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:51,603 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:25:51,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:51,605 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:51,605 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:25:51,611 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:25:51,612 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,617 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:25:51,618 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,635 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:25:51,635 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,647 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:25:51,648 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:25:51,651 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:25:51,651 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:25:51,653 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:25:51,653 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,663 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:25:51,663 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,665 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:25:51,665 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,667 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:25:51,667 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:25:51,669 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:25:51,669 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] (5,)
driving_school_backend  | 2026-02-11 06:25:51,676 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:25:51,676 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:60104 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:51,681 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:25:51,682 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:25:51,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:25:51,684 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:25:51,684 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:25:51,688 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:25:51,688 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,692 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:25:51,692 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,706 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:25:51,706 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,712 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:25:51,712 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:25:51,715 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:25:51,715 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:25:51,719 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:25:51,720 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,735 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:25:51,735 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,738 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:25:51,739 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] ()
driving_school_backend  | 2026-02-11 06:25:51,742 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:25:51,742 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:25:51,755 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:25:51,756 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] (5,)
driving_school_backend  | 2026-02-11 06:25:51,766 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:25:51,766 INFO sqlalchemy.engine.Engine [cached since 1.237e+04s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:60100 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:25:51,770 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/models/profile.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 06:27:49,976 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [318]
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/onboarding.py'. Reloading...
driving_school_backend  | INFO:     Started server process [2875]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 06:27:52,840 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 06:27:52,840 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | INFO:     Started server process [2877]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 06:27:54,868 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 06:27:54,868 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'alembic/versions/15a1bcffee82_add_profile_fields.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [2877]
driving_school_backend  | 2026-02-11 06:28:30,883 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Started server process [2893]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 06:28:35,292 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 06:28:35,292 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | 2026-02-11 06:32:21,084 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:32:21,131 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:32:21,244 INFO sqlalchemy.engine.Engine select pg_catalog.version()
driving_school_backend  | 2026-02-11 06:32:21,244 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 06:32:21,247 INFO sqlalchemy.engine.Engine select current_schema()
driving_school_backend  | 2026-02-11 06:32:21,247 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 06:32:21,250 INFO sqlalchemy.engine.Engine show standard_conforming_strings
driving_school_backend  | 2026-02-11 06:32:21,250 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 06:32:21,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,275 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:21,275 INFO sqlalchemy.engine.Engine [generated in 0.00032s] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:21,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,280 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,280 INFO sqlalchemy.engine.Engine [generated in 0.00063s] (1,)
driving_school_backend  | INFO:     172.19.0.1:35530 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,292 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:21,305 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:32:21,309 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,310 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,311 INFO sqlalchemy.engine.Engine [cached since 0.03104s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:35546 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,316 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:35516 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,324 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:21,327 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:32:21,334 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,335 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:21,336 INFO sqlalchemy.engine.Engine [cached since 0.06045s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:35546 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,362 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:21,489 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:21,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,523 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:21,524 INFO sqlalchemy.engine.Engine [cached since 0.2485s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:21,530 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:21,531 INFO sqlalchemy.engine.Engine [generated in 0.00121s] ()
driving_school_backend  | 2026-02-11 06:32:21,545 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:21,545 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ()
driving_school_backend  | 2026-02-11 06:32:21,563 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:21,563 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ()
driving_school_backend  | 2026-02-11 06:32:21,583 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:21,583 INFO sqlalchemy.engine.Engine [generated in 0.00106s] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:21,622 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:21,622 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:21,634 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:21,634 INFO sqlalchemy.engine.Engine [generated in 0.00045s] ()
driving_school_backend  | 2026-02-11 06:32:21,651 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:21,652 INFO sqlalchemy.engine.Engine [generated in 0.00065s] ()
driving_school_backend  | 2026-02-11 06:32:21,664 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:21,666 INFO sqlalchemy.engine.Engine [generated in 0.00126s] ()
driving_school_backend  | 2026-02-11 06:32:21,678 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:21,678 INFO sqlalchemy.engine.Engine [generated in 0.00058s] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:21,692 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,693 INFO sqlalchemy.engine.Engine [generated in 0.00040s] (5,)
driving_school_backend  | 2026-02-11 06:32:21,712 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,712 INFO sqlalchemy.engine.Engine [generated in 0.00047s] (5,)
driving_school_backend  | INFO:     172.19.0.1:35546 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,726 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:21,727 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:21,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,731 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:21,731 INFO sqlalchemy.engine.Engine [cached since 0.4557s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:21,735 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:21,736 INFO sqlalchemy.engine.Engine [cached since 0.206s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,740 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:21,740 INFO sqlalchemy.engine.Engine [cached since 0.1956s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,763 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:21,764 INFO sqlalchemy.engine.Engine [cached since 0.2015s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,778 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:21,779 INFO sqlalchemy.engine.Engine [cached since 0.1963s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:21,783 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:21,783 INFO sqlalchemy.engine.Engine [cached since 0.1614s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:21,790 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:21,790 INFO sqlalchemy.engine.Engine [cached since 0.1566s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,801 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:21,802 INFO sqlalchemy.engine.Engine [cached since 0.1504s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,809 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:21,809 INFO sqlalchemy.engine.Engine [cached since 0.1447s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,815 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:21,815 INFO sqlalchemy.engine.Engine [cached since 0.1378s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:21,827 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,828 INFO sqlalchemy.engine.Engine [cached since 0.1354s ago] (5,)
driving_school_backend  | 2026-02-11 06:32:21,843 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,843 INFO sqlalchemy.engine.Engine [cached since 0.1315s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:35516 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,849 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:21,853 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:21,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:21,859 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:21,860 INFO sqlalchemy.engine.Engine [cached since 0.585s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:21,870 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:21,871 INFO sqlalchemy.engine.Engine [cached since 0.3409s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,874 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:21,874 INFO sqlalchemy.engine.Engine [cached since 0.3292s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,876 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:21,876 INFO sqlalchemy.engine.Engine [cached since 0.3138s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,879 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:21,879 INFO sqlalchemy.engine.Engine [cached since 0.2969s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:21,882 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:21,882 INFO sqlalchemy.engine.Engine [cached since 0.2605s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:21,884 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:21,885 INFO sqlalchemy.engine.Engine [cached since 0.251s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,887 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:21,887 INFO sqlalchemy.engine.Engine [cached since 0.2363s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,891 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:21,891 INFO sqlalchemy.engine.Engine [cached since 0.2265s ago] ()
driving_school_backend  | 2026-02-11 06:32:21,895 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:21,895 INFO sqlalchemy.engine.Engine [cached since 0.2174s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:21,898 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,898 INFO sqlalchemy.engine.Engine [cached since 0.2059s ago] (5,)
driving_school_backend  | 2026-02-11 06:32:21,903 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:21,903 INFO sqlalchemy.engine.Engine [cached since 0.1912s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:35546 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:21,907 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:27,147 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:32:27,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:27,159 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:27,159 INFO sqlalchemy.engine.Engine [cached since 5.884s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:27,163 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:32:27,164 INFO sqlalchemy.engine.Engine [generated in 0.00039s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:58106 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:27,167 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:27,177 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:32:27,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:27,179 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:27,179 INFO sqlalchemy.engine.Engine [cached since 5.904s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:27,181 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:32:27,181 INFO sqlalchemy.engine.Engine [cached since 0.01818s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:58110 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:27,183 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:30,294 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:30,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:30,296 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:30,296 INFO sqlalchemy.engine.Engine [cached since 9.021s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:30,299 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:30,299 INFO sqlalchemy.engine.Engine [cached since 8.769s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,301 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:30,301 INFO sqlalchemy.engine.Engine [cached since 8.756s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,303 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:30,303 INFO sqlalchemy.engine.Engine [cached since 8.741s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,305 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:30,306 INFO sqlalchemy.engine.Engine [cached since 8.723s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:30,311 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:30,311 INFO sqlalchemy.engine.Engine [cached since 8.69s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:30,315 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:30,315 INFO sqlalchemy.engine.Engine [cached since 8.682s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,317 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:30,317 INFO sqlalchemy.engine.Engine [cached since 8.666s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,322 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:30,323 INFO sqlalchemy.engine.Engine [cached since 8.658s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,326 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:30,327 INFO sqlalchemy.engine.Engine [cached since 8.65s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:30,330 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:30,330 INFO sqlalchemy.engine.Engine [cached since 8.638s ago] (5,)
driving_school_backend  | 2026-02-11 06:32:30,336 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:30,336 INFO sqlalchemy.engine.Engine [cached since 8.624s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:58110 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:30,339 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:30,344 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:30,347 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:30,348 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:30,349 INFO sqlalchemy.engine.Engine [cached since 9.073s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:30,351 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:30,351 INFO sqlalchemy.engine.Engine [cached since 8.821s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,352 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:30,352 INFO sqlalchemy.engine.Engine [cached since 8.807s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,353 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:30,354 INFO sqlalchemy.engine.Engine [cached since 8.791s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,355 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:30,356 INFO sqlalchemy.engine.Engine [cached since 8.773s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:30,360 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:30,360 INFO sqlalchemy.engine.Engine [cached since 8.738s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:30,361 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:30,361 INFO sqlalchemy.engine.Engine [cached since 8.728s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,363 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:30,363 INFO sqlalchemy.engine.Engine [cached since 8.712s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,365 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:30,365 INFO sqlalchemy.engine.Engine [cached since 8.701s ago] ()
driving_school_backend  | 2026-02-11 06:32:30,366 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:30,367 INFO sqlalchemy.engine.Engine [cached since 8.689s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:30,371 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:30,371 INFO sqlalchemy.engine.Engine [cached since 8.679s ago] (5,)
driving_school_backend  | 2026-02-11 06:32:30,377 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:30,378 INFO sqlalchemy.engine.Engine [cached since 8.666s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:58106 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:30,381 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:40,035 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:32:40,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:40,037 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:40,037 INFO sqlalchemy.engine.Engine [cached since 18.76s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:51738 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:40,041 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:40,054 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:32:40,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:40,056 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:40,056 INFO sqlalchemy.engine.Engine [cached since 18.78s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:51744 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:40,062 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:46,701 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | 2026-02-11 06:32:46,721 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 06:32:46,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:46,727 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 06:32:46,727 INFO sqlalchemy.engine.Engine [generated in 0.00037s] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 06:32:47,000 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 06:32:47,004 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:47,008 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 06:32:47,008 INFO sqlalchemy.engine.Engine [generated in 0.00034s] (None, datetime.datetime(2026, 2, 11, 6, 32, 47, 3722), datetime.datetime(2026, 2, 11, 6, 32, 47, 3747), UUID('667d1aa7-8186-4a41-a9ec-8729273bb49e'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 06:32:47,030 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:32896 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,044 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:32896 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,048 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:32:47,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:47,051 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:47,051 INFO sqlalchemy.engine.Engine [cached since 25.78s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:32896 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,053 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:47,059 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:32896 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 06:32:47,075 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:32896 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,082 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 06:32:47,092 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:47,092 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:47,092 INFO sqlalchemy.engine.Engine [cached since 25.82s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 06:32:47,095 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 06:32:47,095 INFO sqlalchemy.engine.Engine [cached since 0.0875s ago] (None, datetime.datetime(2026, 2, 11, 6, 32, 47, 95170), datetime.datetime(2026, 2, 11, 6, 32, 47, 95227), UUID('019821bf-c0d6-46ff-b135-f67aee447be3'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 06:32:47,097 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:32896 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,110 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:32:47,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:47,112 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:47,112 INFO sqlalchemy.engine.Engine [cached since 25.84s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:32896 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,115 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:47,285 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:32896 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,292 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:32910 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,294 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:47,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:47,301 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:47,302 INFO sqlalchemy.engine.Engine [cached since 26.03s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:47,309 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:47,309 INFO sqlalchemy.engine.Engine [cached since 25.78s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,317 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:47,318 INFO sqlalchemy.engine.Engine [cached since 25.77s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,324 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:47,324 INFO sqlalchemy.engine.Engine [cached since 25.76s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,327 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:47,328 INFO sqlalchemy.engine.Engine [cached since 25.75s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:47,338 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:47,339 INFO sqlalchemy.engine.Engine [cached since 25.72s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:47,344 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:47,345 INFO sqlalchemy.engine.Engine [cached since 25.71s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,354 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:47,355 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,359 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:47,360 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,362 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:47,362 INFO sqlalchemy.engine.Engine [cached since 25.69s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:47,369 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:47,369 INFO sqlalchemy.engine.Engine [cached since 25.68s ago] (5,)
driving_school_backend  | 2026-02-11 06:32:47,373 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:47,374 INFO sqlalchemy.engine.Engine [cached since 25.66s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:32896 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,383 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:47,390 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:32:47,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:47,393 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:47,393 INFO sqlalchemy.engine.Engine [cached since 26.12s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:47,398 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:32:47,399 INFO sqlalchemy.engine.Engine [cached since 25.87s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,402 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:32:47,403 INFO sqlalchemy.engine.Engine [cached since 25.86s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,407 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:32:47,407 INFO sqlalchemy.engine.Engine [cached since 25.84s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,410 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:47,410 INFO sqlalchemy.engine.Engine [cached since 25.83s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:47,413 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:32:47,413 INFO sqlalchemy.engine.Engine [cached since 25.79s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:32:47,419 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:32:47,420 INFO sqlalchemy.engine.Engine [cached since 25.79s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,423 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:32:47,424 INFO sqlalchemy.engine.Engine [cached since 25.77s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,429 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:32:47,433 INFO sqlalchemy.engine.Engine [cached since 25.77s ago] ()
driving_school_backend  | 2026-02-11 06:32:47,437 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:32:47,437 INFO sqlalchemy.engine.Engine [cached since 25.76s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:32:47,441 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:47,441 INFO sqlalchemy.engine.Engine [cached since 25.75s ago] (5,)
driving_school_backend  | 2026-02-11 06:32:47,446 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:32:47,447 INFO sqlalchemy.engine.Engine [cached since 25.74s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:32920 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:47,456 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:52,891 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | 2026-02-11 06:32:52,892 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:50806 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:50814 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:52,896 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:32:52,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:52,898 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:52,898 INFO sqlalchemy.engine.Engine [cached since 31.63s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:52,901 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:32:52,901 INFO sqlalchemy.engine.Engine [cached since 25.74s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:50814 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:52,904 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:32:52,907 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:32:52,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:32:52,909 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:32:52,909 INFO sqlalchemy.engine.Engine [cached since 31.64s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:32:52,915 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:32:52,916 INFO sqlalchemy.engine.Engine [cached since 25.76s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:50806 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:32:52,919 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:33:01,563 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:33:01,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:33:01,565 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:33:01,565 INFO sqlalchemy.engine.Engine [cached since 40.29s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:33:01,567 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:33:01,568 INFO sqlalchemy.engine.Engine [cached since 40.04s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,570 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:33:01,570 INFO sqlalchemy.engine.Engine [cached since 40.03s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,573 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:33:01,573 INFO sqlalchemy.engine.Engine [cached since 40.01s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,576 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:33:01,577 INFO sqlalchemy.engine.Engine [cached since 40s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:33:01,582 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:33:01,582 INFO sqlalchemy.engine.Engine [cached since 39.96s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:33:01,585 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:33:01,586 INFO sqlalchemy.engine.Engine [cached since 39.95s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,589 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:33:01,589 INFO sqlalchemy.engine.Engine [cached since 39.94s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,591 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:33:01,591 INFO sqlalchemy.engine.Engine [cached since 39.93s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,594 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:33:01,594 INFO sqlalchemy.engine.Engine [cached since 39.92s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:33:01,597 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:33:01,597 INFO sqlalchemy.engine.Engine [cached since 39.91s ago] (5,)
driving_school_backend  | 2026-02-11 06:33:01,605 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:33:01,605 INFO sqlalchemy.engine.Engine [cached since 39.9s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:50816 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:33:01,612 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:33:01,625 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:33:01,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:33:01,629 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:33:01,630 INFO sqlalchemy.engine.Engine [cached since 40.36s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:33:01,635 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:33:01,635 INFO sqlalchemy.engine.Engine [cached since 40.11s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,636 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:33:01,636 INFO sqlalchemy.engine.Engine [cached since 40.09s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,638 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:33:01,639 INFO sqlalchemy.engine.Engine [cached since 40.08s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,642 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:33:01,643 INFO sqlalchemy.engine.Engine [cached since 40.06s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:33:01,645 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:33:01,645 INFO sqlalchemy.engine.Engine [cached since 40.03s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:33:01,647 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:33:01,647 INFO sqlalchemy.engine.Engine [cached since 40.02s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,649 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:33:01,650 INFO sqlalchemy.engine.Engine [cached since 40s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,651 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:33:01,652 INFO sqlalchemy.engine.Engine [cached since 39.99s ago] ()
driving_school_backend  | 2026-02-11 06:33:01,654 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:33:01,654 INFO sqlalchemy.engine.Engine [cached since 39.98s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:33:01,656 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:33:01,656 INFO sqlalchemy.engine.Engine [cached since 39.97s ago] (5,)
driving_school_backend  | 2026-02-11 06:33:01,659 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:33:01,660 INFO sqlalchemy.engine.Engine [cached since 39.95s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:50830 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:33:01,666 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | WARNING:  WatchFiles detected changes in 'alembic/versions/15a1bcffee82_add_profile_fields.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 06:34:13,014 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [2893]
driving_school_backend  | INFO:     Started server process [2975]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 06:34:15,462 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 06:34:15,462 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | 2026-02-11 06:34:42,893 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:34:42,935 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | 2026-02-11 06:34:42,936 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:47586 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:47598 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,010 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:34:43,029 INFO sqlalchemy.engine.Engine select pg_catalog.version()
driving_school_backend  | 2026-02-11 06:34:43,029 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 06:34:43,032 INFO sqlalchemy.engine.Engine select current_schema()
driving_school_backend  | 2026-02-11 06:34:43,032 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 06:34:43,077 INFO sqlalchemy.engine.Engine show standard_conforming_strings
driving_school_backend  | 2026-02-11 06:34:43,077 INFO sqlalchemy.engine.Engine [raw sql] ()
driving_school_backend  | 2026-02-11 06:34:43,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,104 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:34:43,105 INFO sqlalchemy.engine.Engine [generated in 0.00039s] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:34:43,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,108 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,109 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (1,)
driving_school_backend  | INFO:     172.19.0.1:47598 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,114 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:43,118 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:34:43,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,124 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,124 INFO sqlalchemy.engine.Engine [cached since 0.01548s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:47586 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,130 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:47576 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,150 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:43,153 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:34:43,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,166 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:34:43,167 INFO sqlalchemy.engine.Engine [cached since 0.06262s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:47586 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,207 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:43,285 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:34:43,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,322 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:34:43,322 INFO sqlalchemy.engine.Engine [cached since 0.2181s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:34:43,335 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:34:43,335 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ()
driving_school_backend  | 2026-02-11 06:34:43,352 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:34:43,352 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ()
driving_school_backend  | 2026-02-11 06:34:43,383 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:34:43,384 INFO sqlalchemy.engine.Engine [generated in 0.00060s] ()
driving_school_backend  | 2026-02-11 06:34:43,404 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:34:43,404 INFO sqlalchemy.engine.Engine [generated in 0.00064s] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:34:43,415 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:34:43,415 INFO sqlalchemy.engine.Engine [generated in 0.00045s] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:34:43,426 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:34:43,426 INFO sqlalchemy.engine.Engine [generated in 0.00133s] ()
driving_school_backend  | 2026-02-11 06:34:43,446 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:34:43,447 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ()
driving_school_backend  | 2026-02-11 06:34:43,453 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:34:43,454 INFO sqlalchemy.engine.Engine [generated in 0.00035s] ()
driving_school_backend  | 2026-02-11 06:34:43,460 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:34:43,460 INFO sqlalchemy.engine.Engine [generated in 0.00092s] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:34:43,476 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,476 INFO sqlalchemy.engine.Engine [generated in 0.00033s] (5,)
driving_school_backend  | 2026-02-11 06:34:43,491 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,491 INFO sqlalchemy.engine.Engine [generated in 0.00062s] (5,)
driving_school_backend  | INFO:     172.19.0.1:47586 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,501 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:43,504 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:34:43,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,509 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:34:43,509 INFO sqlalchemy.engine.Engine [cached since 0.4049s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:34:43,514 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:34:43,514 INFO sqlalchemy.engine.Engine [cached since 0.1787s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,517 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:34:43,517 INFO sqlalchemy.engine.Engine [cached since 0.1655s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,534 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:34:43,534 INFO sqlalchemy.engine.Engine [cached since 0.1509s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,548 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:34:43,549 INFO sqlalchemy.engine.Engine [cached since 0.1449s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:34:43,552 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:34:43,552 INFO sqlalchemy.engine.Engine [cached since 0.1376s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:34:43,555 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:34:43,555 INFO sqlalchemy.engine.Engine [cached since 0.1304s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,567 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:34:43,567 INFO sqlalchemy.engine.Engine [cached since 0.1206s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,571 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:34:43,571 INFO sqlalchemy.engine.Engine [cached since 0.1179s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,579 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:34:43,580 INFO sqlalchemy.engine.Engine [cached since 0.1204s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:34:43,585 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,585 INFO sqlalchemy.engine.Engine [cached since 0.1095s ago] (5,)
driving_school_backend  | 2026-02-11 06:34:43,592 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,592 INFO sqlalchemy.engine.Engine [cached since 0.1017s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:47576 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,598 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:43,603 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:34:43,608 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:43,610 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:34:43,611 INFO sqlalchemy.engine.Engine [cached since 0.5069s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:34:43,619 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:34:43,619 INFO sqlalchemy.engine.Engine [cached since 0.2841s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,627 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:34:43,628 INFO sqlalchemy.engine.Engine [cached since 0.2756s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,630 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:34:43,631 INFO sqlalchemy.engine.Engine [cached since 0.2477s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,640 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:34:43,642 INFO sqlalchemy.engine.Engine [cached since 0.2378s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:34:43,645 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:34:43,646 INFO sqlalchemy.engine.Engine [cached since 0.2312s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:34:43,648 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:34:43,648 INFO sqlalchemy.engine.Engine [cached since 0.2233s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,650 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:34:43,650 INFO sqlalchemy.engine.Engine [cached since 0.2038s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,661 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:34:43,661 INFO sqlalchemy.engine.Engine [cached since 0.2078s ago] ()
driving_school_backend  | 2026-02-11 06:34:43,664 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:34:43,664 INFO sqlalchemy.engine.Engine [cached since 0.2048s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:34:43,667 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,667 INFO sqlalchemy.engine.Engine [cached since 0.1916s ago] (5,)
driving_school_backend  | 2026-02-11 06:34:43,674 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:43,675 INFO sqlalchemy.engine.Engine [cached since 0.1846s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:47586 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:43,683 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:54,902 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:34:54,904 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:54,904 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:54,904 INFO sqlalchemy.engine.Engine [cached since 11.8s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:36722 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:54,913 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:34:54,924 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 06:34:54,926 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:34:54,926 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 06:34:54,927 INFO sqlalchemy.engine.Engine [cached since 11.82s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:36738 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:34:54,935 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:35:03,482 - idsms - INFO - POST /api/v1/auth/login
driving_school_backend  | 2026-02-11 06:35:03,497 - idsms - INFO - Login attempt for user: admin@idsms.com
driving_school_backend  | 2026-02-11 06:35:03,498 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:03,499 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".email = $1::VARCHAR
driving_school_backend  | 2026-02-11 06:35:03,499 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('admin@idsms.com',)
driving_school_backend  | 2026-02-11 06:35:03,757 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 06:35:03,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:03,761 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 06:35:03,761 INFO sqlalchemy.engine.Engine [generated in 0.00027s] (None, datetime.datetime(2026, 2, 11, 6, 35, 3, 758685), datetime.datetime(2026, 2, 11, 6, 35, 3, 758706), UUID('63f73503-e210-4bf2-8642-4c14cfa9c3c2'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'login_success', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '{"role": "admin"}', True)
driving_school_backend  | 2026-02-11 06:35:03,764 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:47818 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:03,784 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:47818 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:03,788 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:35:03,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:03,790 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:03,791 INFO sqlalchemy.engine.Engine [cached since 20.69s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:47818 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:03,794 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:35:03,805 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:47818 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 06:35:03,820 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:47818 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:03,825 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 06:35:03,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:03,835 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:03,835 INFO sqlalchemy.engine.Engine [cached since 20.73s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 06:35:03,838 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 06:35:03,838 INFO sqlalchemy.engine.Engine [cached since 0.07731s ago] (None, datetime.datetime(2026, 2, 11, 6, 35, 3, 838160), datetime.datetime(2026, 2, 11, 6, 35, 3, 838174), UUID('e3e37d01-8e61-4597-b9e2-760c90772708'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 06:35:03,839 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:47818 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:03,858 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 06:35:03,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:03,859 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:03,860 INFO sqlalchemy.engine.Engine [cached since 20.76s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:47818 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:03,862 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:35:03,999 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:47818 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:04,007 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:35:04,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:04,010 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:04,010 INFO sqlalchemy.engine.Engine [cached since 20.91s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:35:04,014 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:47824 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:04,022 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:35:04,023 INFO sqlalchemy.engine.Engine [cached since 20.69s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,029 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:35:04,030 INFO sqlalchemy.engine.Engine [cached since 20.68s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,033 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:35:04,033 INFO sqlalchemy.engine.Engine [cached since 20.65s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,037 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:35:04,038 INFO sqlalchemy.engine.Engine [cached since 20.64s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:35:04,040 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:35:04,041 INFO sqlalchemy.engine.Engine [cached since 20.63s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:35:04,042 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:35:04,043 INFO sqlalchemy.engine.Engine [cached since 20.62s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,044 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:35:04,044 INFO sqlalchemy.engine.Engine [cached since 20.6s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,046 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:35:04,046 INFO sqlalchemy.engine.Engine [cached since 20.59s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,049 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:35:04,049 INFO sqlalchemy.engine.Engine [cached since 20.59s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:35:04,052 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:35:04,053 INFO sqlalchemy.engine.Engine [cached since 20.58s ago] (5,)
driving_school_backend  | 2026-02-11 06:35:04,056 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:35:04,056 INFO sqlalchemy.engine.Engine [cached since 20.57s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:47818 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:04,059 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:35:04,064 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 06:35:04,066 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:04,067 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:04,067 INFO sqlalchemy.engine.Engine [cached since 20.96s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:35:04,079 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 06:35:04,079 INFO sqlalchemy.engine.Engine [cached since 20.75s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,083 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 06:35:04,083 INFO sqlalchemy.engine.Engine [cached since 20.73s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,089 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 06:35:04,090 INFO sqlalchemy.engine.Engine [cached since 20.71s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,096 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:35:04,096 INFO sqlalchemy.engine.Engine [cached since 20.69s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:35:04,100 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 06:35:04,101 INFO sqlalchemy.engine.Engine [cached since 20.69s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 06:35:04,108 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 06:35:04,108 INFO sqlalchemy.engine.Engine [cached since 20.68s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,111 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 06:35:04,111 INFO sqlalchemy.engine.Engine [cached since 20.67s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,113 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 06:35:04,113 INFO sqlalchemy.engine.Engine [cached since 20.66s ago] ()
driving_school_backend  | 2026-02-11 06:35:04,116 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 06:35:04,116 INFO sqlalchemy.engine.Engine [cached since 20.66s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 06:35:04,121 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:35:04,122 INFO sqlalchemy.engine.Engine [cached since 20.65s ago] (5,)
driving_school_backend  | 2026-02-11 06:35:04,127 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 06:35:04,127 INFO sqlalchemy.engine.Engine [cached since 20.64s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:47836 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:04,131 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:35:09,246 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | 2026-02-11 06:35:09,247 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:47846 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:47854 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:09,256 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:35:09,265 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:09,265 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:09,265 INFO sqlalchemy.engine.Engine [cached since 26.16s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:35:09,271 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:35:09,271 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:47854 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:09,277 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 06:35:09,279 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 06:35:09,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 06:35:09,283 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 06:35:09,283 INFO sqlalchemy.engine.Engine [cached since 26.18s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 06:35:09,289 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 06:35:09,289 INFO sqlalchemy.engine.Engine [cached since 0.01849s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:47846 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 06:35:09,293 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:30:30,110 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 07:30:30,114 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:50248 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,117 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 07:30:30,126 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:50262 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:50276 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,129 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:50286 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,140 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 07:30:30,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,151 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 07:30:30,151 INFO sqlalchemy.engine.Engine [cached since 3347s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:50302 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 07:30:30,157 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:50262 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:50302 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 07:30:30,165 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:30:30,167 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:50312 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,171 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 07:30:30,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,173 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 07:30:30,173 INFO sqlalchemy.engine.Engine [cached since 3347s ago] (1,)
driving_school_backend  | 2026-02-11 07:30:30,177 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:50316 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,181 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 07:30:30,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,185 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:30:30,185 INFO sqlalchemy.engine.Engine [cached since 3347s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 07:30:30,192 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:30:30,207 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 07:30:30,207 INFO sqlalchemy.engine.Engine [cached since 3327s ago] (None, datetime.datetime(2026, 2, 11, 7, 30, 30, 202023), datetime.datetime(2026, 2, 11, 7, 30, 30, 202082), UUID('44b81d62-1dfe-499b-bfdd-89bc192b32c8'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 07:30:30,211 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:50302 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,249 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:30:30,249 INFO sqlalchemy.engine.Engine [cached since 3347s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 07:30:30,252 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 07:30:30,254 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,255 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:30:30,255 INFO sqlalchemy.engine.Engine [cached since 3347s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:50302 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,259 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:30:30,279 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 07:30:30,279 INFO sqlalchemy.engine.Engine [cached since 3327s ago] (None, datetime.datetime(2026, 2, 11, 7, 30, 30, 278477), datetime.datetime(2026, 2, 11, 7, 30, 30, 278492), UUID('05e0723c-64a7-46b0-bff0-531e2286d9d6'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 07:30:30,283 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:50262 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,332 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 07:30:30,333 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,334 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:30:30,334 INFO sqlalchemy.engine.Engine [cached since 3348s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:50262 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,337 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:30:30,351 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:50262 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,352 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:50302 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,359 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 07:30:30,361 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,361 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:30:30,361 INFO sqlalchemy.engine.Engine [cached since 3348s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 07:30:30,365 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 07:30:30,365 INFO sqlalchemy.engine.Engine [cached since 3321s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:50302 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,368 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:30:30,370 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 07:30:30,372 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:30:30,372 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:30:30,373 INFO sqlalchemy.engine.Engine [cached since 3348s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 07:30:30,375 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 07:30:30,375 INFO sqlalchemy.engine.Engine [cached since 3321s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:50262 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:30:30,379 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:31:42,918 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 07:31:42,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:31:42,923 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:31:42,923 INFO sqlalchemy.engine.Engine [cached since 3351s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 07:31:42,925 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 07:31:42,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:31:42,928 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 07:31:42,928 INFO sqlalchemy.engine.Engine [cached since 3351s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:55364 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:31:42,931 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:55366 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:31:42,939 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:31:42,941 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 07:31:42,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:31:42,944 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:31:42,944 INFO sqlalchemy.engine.Engine [cached since 3351s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 07:31:42,945 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 07:31:42,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:31:42,948 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 07:31:42,948 INFO sqlalchemy.engine.Engine [cached since 3351s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:55372 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:55380 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:31:42,958 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:31:42,960 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:31:43,060 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 07:31:43,062 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:31:43,063 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:31:43,063 INFO sqlalchemy.engine.Engine [cached since 3352s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 07:31:43,066 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 07:31:43,066 INFO sqlalchemy.engine.Engine [cached since 3325s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:55380 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:31:43,072 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 07:31:43,074 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 07:31:43,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 07:31:43,076 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 07:31:43,076 INFO sqlalchemy.engine.Engine [cached since 3352s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 07:31:43,079 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 07:31:43,079 INFO sqlalchemy.engine.Engine [cached since 3325s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:55372 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 07:31:43,082 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:24,549 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 15:04:24,567 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 15:04:24,575 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:39854 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,587 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:39856 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:39866 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:39880 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,608 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 15:04:24,658 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 15:04:24,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:24,701 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 15:04:24,702 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:39856 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 15:04:24,716 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:39856 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 15:04:24,720 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:39866 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,747 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 15:04:24,747 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:39880 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,764 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:24,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:24,780 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:24,781 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 15:04:24,783 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:24,784 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:24,784 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 15:04:24,791 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 15:04:24,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:24,797 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 15:04:24,798 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:39896 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,802 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:24,831 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 15:04:24,832 INFO sqlalchemy.engine.Engine [cached since 1.436e+04s ago] (None, datetime.datetime(2026, 2, 11, 15, 4, 24, 818483), datetime.datetime(2026, 2, 11, 15, 4, 24, 818657), UUID('883aa640-0bea-453c-9e63-c21df38f2244'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 15:04:24,836 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 15:04:24,836 INFO sqlalchemy.engine.Engine [cached since 1.436e+04s ago] (None, datetime.datetime(2026, 2, 11, 15, 4, 24, 835172), datetime.datetime(2026, 2, 11, 15, 4, 24, 835195), UUID('4284e01b-d801-4159-a8d8-eec4f3f9a329'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 15:04:24,845 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:39856 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,895 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 15:04:24,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:24,898 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:24,898 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:24,907 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:39856 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:24,909 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | INFO:     172.19.0.1:39866 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:25,006 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 15:04:25,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:25,010 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:25,010 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:39866 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:25,014 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:25,016 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:39856 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:25,019 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:39896 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:25,051 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 15:04:25,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:25,064 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:25,064 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:25,087 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 15:04:25,087 INFO sqlalchemy.engine.Engine [cached since 1.435e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:39856 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:25,097 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:25,099 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 15:04:25,102 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:25,102 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:25,102 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:25,107 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 15:04:25,107 INFO sqlalchemy.engine.Engine [cached since 1.435e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:39896 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:25,120 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:27,634 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 15:04:27,634 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:39896 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:39856 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:27,653 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 15:04:27,657 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:27,658 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:27,658 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:27,672 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 15:04:27,673 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,692 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 15:04:27,692 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,758 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 15:04:27,759 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,785 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 15:04:27,785 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 15:04:27,800 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 15:04:27,800 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 15:04:27,805 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 15:04:27,805 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,830 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 15:04:27,830 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,835 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 15:04:27,835 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,844 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 15:04:27,845 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 15:04:27,855 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 15:04:27,855 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (5,)
driving_school_backend  | 2026-02-11 15:04:27,884 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 15:04:27,884 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:39856 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:27,895 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:27,917 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 15:04:27,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:27,920 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:27,920 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:27,924 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 15:04:27,924 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,927 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 15:04:27,928 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,930 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 15:04:27,930 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,933 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 15:04:27,933 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 15:04:27,936 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 15:04:27,937 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 15:04:27,942 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 15:04:27,942 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,944 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 15:04:27,944 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,947 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 15:04:27,948 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] ()
driving_school_backend  | 2026-02-11 15:04:27,951 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 15:04:27,951 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 15:04:27,958 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 15:04:27,959 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (5,)
driving_school_backend  | 2026-02-11 15:04:27,971 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 15:04:27,971 INFO sqlalchemy.engine.Engine [cached since 1.438e+04s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:39896 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:27,982 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:31,302 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 15:04:31,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:31,304 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:31,304 INFO sqlalchemy.engine.Engine [cached since 1.439e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:31,308 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 15:04:31,308 INFO sqlalchemy.engine.Engine [cached since 1.436e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:39896 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:31,313 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 15:04:31,315 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 15:04:31,317 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 15:04:31,318 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 15:04:31,318 INFO sqlalchemy.engine.Engine [cached since 1.439e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 15:04:31,321 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 15:04:31,321 INFO sqlalchemy.engine.Engine [cached since 1.436e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:39856 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 15:04:31,324 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 16:31:45,713 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 16:31:45,746 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | 2026-02-11 16:31:45,750 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:51290 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:45,761 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:51302 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51304 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51310 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:45,777 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 16:31:45,827 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 16:31:45,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:45,894 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 16:31:45,895 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:51302 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 16:31:45,915 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:51302 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 16:31:45,923 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:51316 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:45,930 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 16:31:45,958 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:51316 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51312 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:45,965 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 16:31:45,976 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:45,977 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 16:31:45,977 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 16:31:45,980 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 16:31:45,981 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 16:31:45,983 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:45,984 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 16:31:45,984 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] (1,)
driving_school_backend  | 2026-02-11 16:31:45,987 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:45,988 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 16:31:45,988 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 16:31:46,017 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 16:31:46,017 INFO sqlalchemy.engine.Engine [cached since 1.96e+04s ago] (None, datetime.datetime(2026, 2, 11, 16, 31, 46, 1381), datetime.datetime(2026, 2, 11, 16, 31, 46, 1460), UUID('c34ea34b-dac2-49be-b6c1-6567849aad8c'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 16:31:46,020 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 16:31:46,020 INFO sqlalchemy.engine.Engine [cached since 1.96e+04s ago] (None, datetime.datetime(2026, 2, 11, 16, 31, 46, 19138), datetime.datetime(2026, 2, 11, 16, 31, 46, 19164), UUID('c8e55e6a-058e-4e58-aa28-18f7d3d3bafa'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 16:31:46,028 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 16:31:46,029 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:51312 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51302 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:51318 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,039 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 16:31:46,046 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 16:31:46,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:46,049 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 16:31:46,050 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:51318 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,055 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 16:31:46,057 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 16:31:46,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:46,059 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 16:31:46,060 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:51302 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,063 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 16:31:46,166 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:51302 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,167 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:51318 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,174 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 16:31:46,177 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:46,177 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 16:31:46,177 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 16:31:46,184 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 16:31:46,184 INFO sqlalchemy.engine.Engine [cached since 1.96e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:51318 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,189 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 16:31:46,193 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 16:31:46,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 16:31:46,196 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 16:31:46,196 INFO sqlalchemy.engine.Engine [cached since 1.962e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 16:31:46,199 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 16:31:46,200 INFO sqlalchemy.engine.Engine [cached since 1.96e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:51302 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 16:31:46,203 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:32,857 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | 2026-02-11 18:57:32,865 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | 2026-02-11 18:57:32,867 - idsms - INFO - OPTIONS /api/v1/users/me
driving_school_backend  | INFO:     172.19.0.1:38026 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:32,872 - idsms - INFO - OPTIONS /api/v1/settings
driving_school_backend  | INFO:     172.19.0.1:38028 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:38034 - "OPTIONS /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:38048 - "OPTIONS /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:32,911 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 18:57:32,920 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 18:57:32,925 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:32,929 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 18:57:32,929 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] (1,)
driving_school_backend  | INFO:     172.19.0.1:38048 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | INFO:     172.19.0.1:38034 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:32,941 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:32,943 - idsms - INFO - GET /api/v1/settings
driving_school_backend  | 2026-02-11 18:57:32,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:32,945 INFO sqlalchemy.engine.Engine SELECT settings.id, settings.school_name, settings.school_tagline, settings.contact_email, settings.contact_phone, settings.address, settings.primary_color, settings.logo_url, settings.timezone, settings.currency, settings.updated_at, settings.updated_by 
driving_school_backend  | FROM settings 
driving_school_backend  | WHERE settings.id = $1::INTEGER
driving_school_backend  | 2026-02-11 18:57:32,946 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] (1,)
driving_school_backend  | 2026-02-11 18:57:32,951 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 18:57:32,956 - idsms - INFO - OPTIONS /api/v1/auth/refresh
driving_school_backend  | INFO:     172.19.0.1:38028 - "GET /api/v1/settings HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:38034 - "OPTIONS /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:38048 - "GET /api/v1/users/me HTTP/1.1" 401 Unauthorized
driving_school_backend  | 2026-02-11 18:57:32,959 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:32,971 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 18:57:32,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:32,976 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:32,976 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 18:57:32,977 - idsms - INFO - POST /api/v1/auth/refresh
driving_school_backend  | 2026-02-11 18:57:32,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:32,981 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:32,981 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] ('569b7c19-3a40-4039-924b-197815a8e609',)
driving_school_backend  | 2026-02-11 18:57:32,985 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 18:57:32,985 INFO sqlalchemy.engine.Engine [cached since 2.068e+04s ago] (None, datetime.datetime(2026, 2, 11, 18, 57, 32, 983500), datetime.datetime(2026, 2, 11, 18, 57, 32, 983544), UUID('d20a31ce-93c7-4e62-8671-285581b28f3e'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 18:57:32,989 INFO sqlalchemy.engine.Engine INSERT INTO auditlog (deleted_at, created_at, updated_at, id, user_id, action, resource_type, resource_id, ip_address, user_agent, details, success) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::TIMESTAMP WITHOUT TIME ZONE, $3::TIMESTAMP WITHOUT TIME ZONE, $4::UUID, $5::UUID, $6::VARCHAR, $7::VARCHAR, $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::JSON, $12::BOOLEAN)
driving_school_backend  | 2026-02-11 18:57:32,989 INFO sqlalchemy.engine.Engine [cached since 2.068e+04s ago] (None, datetime.datetime(2026, 2, 11, 18, 57, 32, 987688), datetime.datetime(2026, 2, 11, 18, 57, 32, 987719), UUID('ca2c7732-e3b8-4539-85bc-d8ba49d6d2c2'), UUID('569b7c19-3a40-4039-924b-197815a8e609'), 'token_refresh', 'user', None, '172.19.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', 'null', True)
driving_school_backend  | 2026-02-11 18:57:32,991 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | 2026-02-11 18:57:32,993 INFO sqlalchemy.engine.Engine COMMIT
driving_school_backend  | INFO:     172.19.0.1:38048 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,013 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 18:57:33,015 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:33,016 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:33,016 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:38034 - "POST /api/v1/auth/refresh HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:38048 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,024 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:33,029 - idsms - INFO - GET /api/v1/users/me
driving_school_backend  | 2026-02-11 18:57:33,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:33,035 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:33,035 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | INFO:     172.19.0.1:38034 - "GET /api/v1/users/me HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,052 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:33,181 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:38034 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,184 - idsms - INFO - OPTIONS /api/v1/users/
driving_school_backend  | INFO:     172.19.0.1:38048 - "OPTIONS /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,193 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 18:57:33,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:33,197 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:33,197 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 18:57:33,202 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 18:57:33,203 INFO sqlalchemy.engine.Engine [cached since 2.068e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:38048 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,208 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:33,209 - idsms - INFO - GET /api/v1/users/
driving_school_backend  | 2026-02-11 18:57:33,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:33,220 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:33,220 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 18:57:33,223 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 18:57:33,223 INFO sqlalchemy.engine.Engine [cached since 2.068e+04s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:38034 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:33,236 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:56,556 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 18:57:56,557 - idsms - INFO - OPTIONS /api/v1/analytics/dashboard
driving_school_backend  | INFO:     172.19.0.1:33442 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:33452 - "OPTIONS /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:56,563 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 18:57:56,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:56,566 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:56,566 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 18:57:56,594 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 18:57:56,595 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,604 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 18:57:56,604 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,612 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 18:57:56,613 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,621 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 18:57:56,622 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 18:57:56,627 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 18:57:56,627 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 18:57:56,633 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 18:57:56,633 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,637 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 18:57:56,637 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,639 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 18:57:56,639 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,644 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 18:57:56,644 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 18:57:56,651 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 18:57:56,651 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (5,)
driving_school_backend  | 2026-02-11 18:57:56,660 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 18:57:56,660 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:33452 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:56,666 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:57:56,668 - idsms - INFO - GET /api/v1/analytics/dashboard
driving_school_backend  | 2026-02-11 18:57:56,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:57:56,670 INFO sqlalchemy.engine.Engine SELECT "user".deleted_at, "user".created_at, "user".updated_at, "user".id, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".id = $1::UUID
driving_school_backend  | 2026-02-11 18:57:56,670 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (UUID('569b7c19-3a40-4039-924b-197815a8e609'),)
driving_school_backend  | 2026-02-11 18:57:56,673 INFO sqlalchemy.engine.Engine SELECT "user".role, count("user".id) AS count 
driving_school_backend  | FROM "user" 
driving_school_backend  | WHERE "user".deleted_at IS NULL GROUP BY "user".role
driving_school_backend  | 2026-02-11 18:57:56,673 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,677 INFO sqlalchemy.engine.Engine SELECT enrollment.status, count(enrollment.id) AS count 
driving_school_backend  | FROM enrollment 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL GROUP BY enrollment.status
driving_school_backend  | 2026-02-11 18:57:56,677 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,681 INFO sqlalchemy.engine.Engine SELECT payment.status, sum(payment.amount) AS total 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL GROUP BY payment.status
driving_school_backend  | 2026-02-11 18:57:56,681 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,684 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 18:57:56,685 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ('COMPLETED', datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 18:57:56,691 INFO sqlalchemy.engine.Engine SELECT sum(payment.amount) AS sum_1 
driving_school_backend  | FROM payment 
driving_school_backend  | WHERE payment.deleted_at IS NULL AND payment.status = $1::paymentstatus AND payment.timestamp >= $2::TIMESTAMP WITHOUT TIME ZONE AND payment.timestamp < $3::TIMESTAMP WITHOUT TIME ZONE
driving_school_backend  | 2026-02-11 18:57:56,691 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ('COMPLETED', datetime.datetime(2026, 1, 1, 0, 0), datetime.datetime(2026, 2, 1, 0, 0))
driving_school_backend  | 2026-02-11 18:57:56,694 INFO sqlalchemy.engine.Engine SELECT lesson.status, count(lesson.id) AS count 
driving_school_backend  | FROM lesson 
driving_school_backend  | WHERE lesson.deleted_at IS NULL GROUP BY lesson.status
driving_school_backend  | 2026-02-11 18:57:56,694 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,700 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL
driving_school_backend  | 2026-02-11 18:57:56,700 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,703 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true
driving_school_backend  | 2026-02-11 18:57:56,704 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] ()
driving_school_backend  | 2026-02-11 18:57:56,708 INFO sqlalchemy.engine.Engine SELECT count(vehicle.id) AS count_1 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.deleted_at IS NULL AND vehicle.is_active = true AND vehicle.next_service_date IS NOT NULL AND vehicle.next_service_date <= $1::DATE
driving_school_backend  | 2026-02-11 18:57:56,709 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (datetime.date(2026, 2, 18),)
driving_school_backend  | 2026-02-11 18:57:56,716 INFO sqlalchemy.engine.Engine SELECT enrollment.deleted_at, enrollment.created_at, enrollment.updated_at, enrollment.id, enrollment.start_date, enrollment.status, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_1, "user".created_at AS created_at_1, "user".updated_at AS updated_at_1, "user".id AS id_1, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until, course.deleted_at AS deleted_at_2, course.created_at AS created_at_2, course.updated_at AS updated_at_2, course.id AS id_2, course.name, course.description, course.price, course.duration_weeks 
driving_school_backend  | FROM enrollment JOIN "user" ON enrollment.student_id = "user".id JOIN course ON enrollment.course_id = course.id 
driving_school_backend  | WHERE enrollment.deleted_at IS NULL ORDER BY enrollment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 18:57:56,716 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (5,)
driving_school_backend  | 2026-02-11 18:57:56,724 INFO sqlalchemy.engine.Engine SELECT payment.deleted_at, payment.created_at, payment.updated_at, payment.id, payment.amount, payment.external_ref, payment.status, payment.timestamp, payment.enrollment_id, payment.method, enrollment.deleted_at AS deleted_at_1, enrollment.created_at AS created_at_1, enrollment.updated_at AS updated_at_1, enrollment.id AS id_1, enrollment.start_date, enrollment.status AS status_1, enrollment.student_id, enrollment.course_id, enrollment.total_paid, "user".deleted_at AS deleted_at_2, "user".created_at AS created_at_2, "user".updated_at AS updated_at_2, "user".id AS id_2, "user".email, "user".is_active, "user".role, "user".full_name, "user".hashed_password, "user".failed_login_attempts, "user".locked_until 
driving_school_backend  | FROM payment JOIN enrollment ON payment.enrollment_id = enrollment.id JOIN "user" ON enrollment.student_id = "user".id 
driving_school_backend  | WHERE payment.deleted_at IS NULL ORDER BY payment.created_at DESC 
driving_school_backend  |  LIMIT $1::INTEGER
driving_school_backend  | 2026-02-11 18:57:56,724 INFO sqlalchemy.engine.Engine [cached since 2.072e+04s ago] (5,)
driving_school_backend  | INFO:     172.19.0.1:33442 - "GET /api/v1/analytics/dashboard HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:57:56,735 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:58:20,753 - idsms - INFO - OPTIONS /api/v1/vehicles/
driving_school_backend  | 2026-02-11 18:58:20,756 - idsms - INFO - OPTIONS /api/v1/vehicles/
driving_school_backend  | INFO:     172.19.0.1:45120 - "OPTIONS /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | INFO:     172.19.0.1:45124 - "OPTIONS /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:58:20,762 - idsms - INFO - GET /api/v1/vehicles/
driving_school_backend  | 2026-02-11 18:58:20,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:58:20,847 INFO sqlalchemy.engine.Engine SELECT vehicle.deleted_at, vehicle.created_at, vehicle.updated_at, vehicle.id, vehicle.reg_number, vehicle.type, vehicle.make_model, vehicle.insurance_expiry, vehicle.next_service_date, vehicle.is_active 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.is_active = true 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 18:58:20,848 INFO sqlalchemy.engine.Engine [generated in 0.00066s] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:45124 - "GET /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:58:20,857 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | 2026-02-11 18:58:20,859 - idsms - INFO - GET /api/v1/vehicles/
driving_school_backend  | 2026-02-11 18:58:20,860 INFO sqlalchemy.engine.Engine BEGIN (implicit)
driving_school_backend  | 2026-02-11 18:58:20,861 INFO sqlalchemy.engine.Engine SELECT vehicle.deleted_at, vehicle.created_at, vehicle.updated_at, vehicle.id, vehicle.reg_number, vehicle.type, vehicle.make_model, vehicle.insurance_expiry, vehicle.next_service_date, vehicle.is_active 
driving_school_backend  | FROM vehicle 
driving_school_backend  | WHERE vehicle.is_active = true 
driving_school_backend  |  LIMIT $1::INTEGER OFFSET $2::INTEGER
driving_school_backend  | 2026-02-11 18:58:20,861 INFO sqlalchemy.engine.Engine [cached since 0.01377s ago] (100, 0)
driving_school_backend  | INFO:     172.19.0.1:45120 - "GET /api/v1/vehicles/ HTTP/1.1" 200 OK
driving_school_backend  | 2026-02-11 18:58:20,870 INFO sqlalchemy.engine.Engine ROLLBACK
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/models/profile.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:17:38,972 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [2975]
driving_school_backend  | INFO:     Started server process [7438]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:17:42,829 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:17:42,830 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/models/assessment.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:17:45,841 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7438]
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/models/curriculum.py'. Reloading...
driving_school_backend  | INFO:     Started server process [7440]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:17:48,187 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:17:48,187 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | INFO:     Started server process [7442]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:17:51,993 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:17:51,993 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/models/__init__.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:18:05,337 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7442]
driving_school_backend  | INFO:     Started server process [7450]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:18:07,505 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:18:07,505 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'check_alembic_version.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:18:51,446 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7450]
driving_school_backend  | WARNING:  WatchFiles detected changes in 'check_alembic_version.py'. Reloading...
driving_school_backend  | INFO:     Started server process [7475]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:18:55,382 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:18:55,382 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'alembic/versions/d025997d1c95_add_kenyan_features_and_curriculum.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:21:41,031 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7475]
driving_school_backend  | INFO:     Started server process [7558]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:21:45,060 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:21:45,060 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'alembic/versions/d025997d1c95_add_kenyan_features_and_curriculum.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:22:13,354 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7558]
driving_school_backend  | INFO:     Started server process [7574]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:22:15,627 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:22:15,627 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'alembic/versions/d025997d1c95_add_kenyan_features_and_curriculum.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | 2026-02-11 19:22:31,780 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Finished server process [7574]
driving_school_backend  | INFO:     Started server process [7584]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:22:34,270 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:22:34,270 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/curriculum.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:23:19,730 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7584]
driving_school_backend  | INFO:     Started server process [7606]
driving_school_backend  | INFO:     Waiting for application startup.
driving_school_backend  | 2026-02-11 19:23:23,302 - idsms - INFO - Starting IDSMS - Inphora Driving School Management System v1.0.0
driving_school_backend  | 2026-02-11 19:23:23,302 - idsms - INFO - Environment: development
driving_school_backend  | INFO:     Application startup complete.
driving_school_backend  | WARNING:  WatchFiles detected changes in 'app/api/api.py'. Reloading...
driving_school_backend  | INFO:     Shutting down
driving_school_backend  | INFO:     Waiting for application shutdown.
driving_school_backend  | 2026-02-11 19:23:49,197 - idsms - INFO - Shutting down application
driving_school_backend  | INFO:     Application shutdown complete.
driving_school_backend  | INFO:     Finished server process [7606]
driving_school_backend  | Process SpawnProcess-19:
driving_school_backend  | Traceback (most recent call last):
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
driving_school_backend  |     self.run()
driving_school_backend  |   File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
driving_school_backend  |     self._target(*self._args, **self._kwargs)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
driving_school_backend  |     target(sockets=sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
driving_school_backend  |     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
driving_school_backend  |     return runner.run(main)
driving_school_backend  |            ^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
driving_school_backend  |     return self._loop.run_until_complete(task)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
driving_school_backend  |     await self._serve(sockets)
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
driving_school_backend  |     config.load()
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
driving_school_backend  |     self.loaded_app = import_from_string(self.app)
driving_school_backend  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
driving_school_backend  |     module = importlib.import_module(module_str)
driving_school_backend  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
driving_school_backend  |     return _bootstrap._gcd_import(name[level:], package, level)
driving_school_backend  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
driving_school_backend  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
driving_school_backend  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
driving_school_backend  |   File "/app/app/main.py", line 143, in <module>
driving_school_backend  |     from app.api.api import api_router
driving_school_backend  |   File "/app/app/api/api.py", line 3, in <module>
driving_school_backend  |     api_router = APIRouter()
driving_school_backend  |                  ^^^^^^^^^
driving_school_backend  | NameError: name 'APIRouter' is not defined
